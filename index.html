<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jeu de R√©flexe vs C√©l√©brit√©s</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 400px;
      margin: 20px auto;
      text-align: center;
      background: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 10px #ccc;
    }
    #gameZone {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 20px auto;
      border: 3px solid #444;
      background: #ddd;
      border-radius: 10px;
      user-select: none;
    }
    #target {
      width: 50px;
      height: 50px;
      background: red;
      border-radius: 8px;
      position: absolute;
      display: none;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    #reactionTime {
      font-size: 1.5em;
      margin: 15px 0;
    }
    #leaderboard {
      text-align: left;
      max-height: 300px;
      overflow-y: auto;
      border-top: 2px solid #444;
      margin-top: 30px;
      padding-top: 10px;
    }
    #leaderboard ol {
      padding-left: 20px;
      margin: 0;
    }
    .your-rank {
      font-weight: bold;
      color: #007700;
      background: #e0ffe0;
      border-radius: 4px;
      padding: 2px 4px;
    }
    .ad-space {
      margin: 20px 0;
      background: #fff;
      border: 1px solid #ccc;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-style: italic;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <h1>‚ö° Jeu de R√©flexe vs C√©l√©brit√©s</h1>

  <div class="ad-space" id="ad-top">
    <!-- Ici tu pourras coller ton code Google AdSense ou autre -->
    Publicit√© (top)
  </div>

  <div>
    <button id="startBtn">Commencer le jeu</button>
  </div>

  <div id="gameZone">
    <div id="target"></div>
  </div>

  <div id="reactionTime">Temps de r√©action : - ms</div>

  <div class="ad-space" id="ad-bottom">
    <!-- Ici aussi, place ta pub -->
    Publicit√© (bas)
  </div>

  <div id="leaderboard">
    <h2>üèÜ Classement des c√©l√©brit√©s & toi</h2>
    <ol id="scoresList"></ol>
  </div>

  <script>
    // Liste fictive de c√©l√©brit√©s / pilotes F1 avec leurs temps de r√©action en ms
    // Temps fictifs, plus petit = plus rapide
    const celebrities = [
      { name: "Lewis Hamilton (F1)", score: 180 },
      { name: "Max Verstappen (F1)", score: 185 },
      { name: "Michael Schumacher (F1)", score: 190 },
      { name: "Sebastian Vettel (F1)", score: 195 },
      { name: "Ayrton Senna (F1)", score: 200 },
      { name: "Charles Leclerc (F1)", score: 205 },
      { name: "Fernando Alonso (F1)", score: 210 },
      { name: "Daniel Ricciardo (F1)", score: 215 },
      { name: "Kimi R√§ikk√∂nen (F1)", score: 220 },
      { name: "Jenson Button (F1)", score: 225 },
      { name: "Serena Williams (Tennis)", score: 230 },
      { name: "Usain Bolt (Athl√©tisme)", score: 240 },
      { name: "Lionel Messi (Football)", score: 245 },
      { name: "Cristiano Ronaldo (Football)", score: 250 },
      { name: "Simone Biles (Gymnastique)", score: 255 },
      { name: "Roger Federer (Tennis)", score: 260 },
      { name: "Michael Jordan (Basketball)", score: 265 },
      { name: "Novak Djokovic (Tennis)", score: 270 },
      { name: "LeBron James (Basketball)", score: 275 },
      { name: "Tom Brady (Football US)", score: 280 },
      { name: "Elon Musk", score: 350 },
      { name: "Bill Gates", score: 360 },
      { name: "Albert Einstein", score: 370 },
      { name: "Mark Zuckerberg", score: 380 },
      { name: "Steve Jobs", score: 390 },
      { name: "Kanye West", score: 400 },
      { name: "Beyonc√©", score: 410 },
      { name: "Taylor Swift", score: 420 },
      { name: "Justin Bieber", score: 430 },
      { name: "Adele", score: 440 },
      // ... tu peux ajouter jusqu'√† 100 entr√©es pour rendre √ßa plus complet
    ];

    // On garde max 100 entr√©es, dans cet exemple on a moins
    const MAX_LEADERBOARD = 100;

    // R√©f√©rence √©l√©ments DOM
    const gameZone = document.getElementById('gameZone');
    const target = document.getElementById('target');
    const reactionTimeDisplay = document.getElementById('reactionTime');
    const scoresList = document.getElementById('scoresList');
    const startBtn = document.getElementById('startBtn');

    let startTime = 0;
    let timeoutId = null;

    // Fonction pour d√©marrer le jeu
    function startGame() {
      startBtn.disabled = true;
      reactionTimeDisplay.textContent = "Pr√©pare-toi...";
      target.style.backgroundColor = 'red';
      target.style.display = 'none';

      // D√©lai al√©atoire entre 2 et 5 secondes
      const delay = Math.random() * 3000 + 2000;

      timeoutId = setTimeout(() => {
        // Position al√©atoire dans gameZone
        const x = Math.random() * (gameZone.clientWidth - target.clientWidth);
        const y = Math.random() * (gameZone.clientHeight - target.clientHeight);
        target.style.left = x + 'px';
        target.style.top = y + 'px';

        // Passe en vert, visible et start timer
        target.style.backgroundColor = 'green';
        target.style.display = 'block';
        startTime = performance.now();

        reactionTimeDisplay.textContent = "Clique maintenant !";
      }, delay);
    }

    // Gestion clic sur cible
    target.addEventListener('click', () => {
      const endTime = performance.now();
      const reaction = Math.round(endTime - startTime);

      if (startTime === 0) return; // Ignore clics hors du bon moment

      reactionTimeDisplay.textContent = `Temps de r√©action : ${reaction} ms`;
      target.style.display = 'none';
      startBtn.disabled = false;
      startTime = 0;

      clearTimeout(timeoutId);

      // Ajoute ton score dans le classement local
      addYourScore(reaction);
    });

    // Fonction qui ins√®re ton score dans le classement
    function addYourScore(yourScore) {
      // Clone la liste
      let leaderboard = [...celebrities];

      // Ajoute ton score fictif sous le nom "Toi"
      leaderboard.push({ name: "Toi", score: yourScore });

      // Trie du plus rapide (plus petit) au plus lent
      leaderboard.sort((a, b) => a.score - b.score);

      // Limite √† MAX_LEADERBOARD
      if (leaderboard.length > MAX_LEADERBOARD) {
        leaderboard = leaderboard.slice(0, MAX_LEADERBOARD);
      }

      // Affiche le classement avec ta position
      displayLeaderboard(leaderboard);
    }

    // Fonction qui affiche le classement
    function displayLeaderboard(list) {
      scoresList.innerHTML = '';

      list.forEach((entry, index) => {
        const li = document.createElement('li');

        // Si c'est toi, on souligne / met en valeur
        if (entry.name === "Toi") {
          li.innerHTML = `<span class="your-rank">${index + 1}. ${entry.name} ‚Äî ${entry.score} ms</span>`;
        } else {
          li.textContent = `${index + 1}. ${entry.name} ‚Äî ${entry.score} ms`;
        }

        scoresList.appendChild(li);
      });
    }

    // Au chargement, on affiche classement de base sans toi
    displayLeaderboard(celebrities);

    // Bouton d√©marre le jeu
    startBtn.addEventListener('click', startGame);
  </script>
</body>
</html>
